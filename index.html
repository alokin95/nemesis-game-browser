<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nemesis Game Browser</title>
  <link rel="stylesheet" href="css/styles.css">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <header>Nemesis Game Browser</header>
  <div class="tab-container">
    <div id="notification-container" class="notification-container hidden"></div>
    <div id="host-tab" class="tab active">Host a Game</div>
    <div id="active-tab" class="tab">Active Games</div>
    <div id="joined-tab" class="tab">Joined Games</div>
  </div>
  <div class="content">
    <div id="host-section" class="form-container">
      <h3>Host a New Game</h3>
      <input type="text" id="game-name" placeholder="Game Name (optional)" />
      <select id="player-count">
        <option value="">Number of Players (optional)</option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
      </select>
      <button class="button" id="create-game">Create Game</button>
    </div>
    <div id="active-section" class="game-list" style="display: none">
      <h3>Active Games</h3>
      <div id="active-games"></div>
    </div>
    <div id="joined-section" class="game-list" style="display: none">
      <h3>Joined Games</h3>
      <p>You have not joined any games yet.</p>
    </div>
    <div class="modal-overlay" id="modal-overlay"></div>
    <div class="modal" id="join-modal">
      <h3>Join Game</h3>
      <div class="form-group">
        <label>Character Pick</label>
        <select id="character-pick-modal">
          <option value="">Select Character</option>
        </select>
      </div>
      <div class="form-group">
        <label>Player Order</label>
        <select id="player-order-modal">
          <option value="">Select Player Order</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
        </select>
      </div>
      <button class="button" id="confirm-join">Join Game</button>
      <button class="button" id="cancel-join">Cancel</button>
    </div>  
    <div class="modal" id="finish-game-modal">
      <h3>Finish Game</h3>
      <div class="form-group">
        <label for="objective-id">Objective</label>
        <select id="objective-id">
          <option value="">Select Objective</option>
          <!-- Populate dynamically -->
        </select>
      </div>
      <div class="form-group">
        <label for="objective-completed">Objective Completed</label>
        <select id="objective-completed">
          <option value="true">Yes</option>
          <option value="false">No</option>
        </select>
      </div>
      <div class="form-group">
        <label for="finished-on">Finished On</label>
        <select id="finished-on">
          <option value="">Select Turn</option>
        </select>
      </div>
      <div class="form-group">
        <label for="player-status">Player Status</label>
        <select id="player-status">
          <option value="">Select Status</option>
          <option value="dead">Dead</option>
          <option value="hibernatorium">Hibernatorium</option>
          <option value="escape pod">Escape Pod</option>
        </select>
        <div class="form-group" id="death-type-group" style="display: none;">
          <label for="death-id">Death Type</label>
          <select id="death-id">
            <option value="">Select Death Type</option>
            <!-- Options will be populated dynamically -->
          </select>
        </div>
      </div>
      <button class="button" id="save-finish-game">Save</button>
      <button class="button" id="cancel-finish-game">Cancel</button>
    </div>  
    <div class="modal" id="end-game-modal">
      <h3>End Game</h3>
      <div class="form-group">
        <label for="coordinates">Coordinates</label>
        <select id="coordinates">
          <option value="deep space">Deep Space</option>
          <option value="mars">Mars</option>
          <option value="earth" selected>Earth</option>
          <option value="venus">Venus</option>
        </select>
      </div>
      <div class="form-group">
        <label for="round">Round</label>
        <select id="round">
          <!-- Populate dynamically -->
        </select>
      </div>
      <div class="form-group">
        <label>Engines</label>
        <div>
          <label><input type="checkbox" id="engine-1" /> Engine 1</label>
          <label><input type="checkbox" id="engine-2" /> Engine 2</label>
          <label><input type="checkbox" id="engine-3" /> Engine 3</label>
        </div>
      </div>
      <div class="form-group">
        <label for="explored">Explored</label>
        <select id="explored">
          <option value="true">Yes</option>
          <option value="false" selected>No</option>
        </select>
      </div>
      <div class="form-group">
        <label for="cause-of-destruction">Cause of Destruction</label>
        <select id="cause-of-destruction">
          <option value="">Select Cause</option>
          <option value="self destruct">Self Destruct</option>
          <option value="malfunction">Malfunction</option>
          <option value="fire">Fire</option>
          <option value="time track">Time Track</option>
        </select>
      </div>
      <div class="form-group">
        <label>Weaknesses</label>
        <div>
          <label>
            <input type="checkbox" id="intruder-corpse-weakness" />
            Intruder Corpse Weakness
          </label>
          <label>
            <input type="checkbox" id="intruder-egg-weakness" />
            Intruder Egg Weakness
          </label>
          <label>
            <input type="checkbox" id="character-corpse-weakness" />
            Character Corpse Weakness
          </label>
        </div>
      </div>
      <div class="form-group">
        <label for="participants">Winners</label>
        <div id="participants-container">
          <!-- Participants will be dynamically added here -->
        </div>
      </div>
      <button class="button" id="confirm-end-game">End Game</button>
      <button class="button" id="cancel-end-game">Cancel</button>
    </div>    
  </div>
  <div id="loading-overlay" class="loading-overlay hidden">
    <div class="spinner"></div>
    <p>Loading, please wait...</p>
  </div> 
  <script src="js/main.js"></script>
</body>
</html>